<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulário</title>
    <link rel="stylesheet" href="styles/style.css" />
  </head>
  <body>
    <div class="formulario">
      <div>
        <p>Olá, digite seu email e sua senha.</p>
      </div>
      <form id="cadastroForm" action="#" method="post" autocomplete="off">
        <div class="campo-email flex-col">
          <label for="email">
            <p>Digite seu email</p>
          </label>
          <input type="text" name="email" id="email" required />
          <span id="email-error">Email inválido</span>
        </div>
        <div class="campo-senha flex-col">
          <label for="password">
            <p>Digite sua senha</p>
          </label>
          <input type="text" name="password" id="password" required />
          <span id="password-error">Senha inválido</span>
        </div>

        <input type="submit" value="Entrar" />
      </form>
    </div>

    <script>
      const emailInput = document.getElementById("email");
      const passwordInput = document.getElementById("password");

      const emailError = document.getElementById("email-error");
      const passwordError = document.getElementById("password-error");
      const form = document.getElementById("cadastroForm");

      // Validação de CPF
      function validarEmail(email) {
        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        return emailRegex.test(email);
      }

      function validarSenha(senha) {
        const senhaRegex =
          /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{8,}$/;

        return senhaRegex.test(senha);
      }

      // Evento de submit do formulário
      form.addEventListener("submit", function (e) {
        e.preventDefault();

        // Limpar erros anteriores
        // cpfError.textContent = "";
        // telefoneError.textContent = "";

        // Validar CPF
        const email = emailInput.value;

        if (!validarEmail(email)) {
          console.log("email inválido");
          emailError.style.display = "block";
          return;
        }

        emailError.style.display = "none";

        // Validar Telefone
        const password = passwordInput.value;

        if (!validarSenha(password)) {
          console.log("senha inválida");
          passwordError.style.display = "block";
          return;
        }
        passwordError.style.display = "none";

        // Se tudo estiver válido
        alert("Formulário enviado com sucesso!");
      });
    </script>
  </body>
</html>
